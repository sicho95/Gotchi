<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Tamagotchi (style P1)</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent;user-select:none;touch-action:manipulation}
    body{
      font-family: ui-monospace, Menlo, Monaco, Consolas, "Courier New", monospace;
      background: radial-gradient(1200px 800px at 50% 10%, #ffffff 0%, #eef2f7 45%, #e6ebf3 100%);
      min-height:100vh;display:flex;align-items:center;justify-content:center;padding:18px;
    }

    /* Hamburger */
    .hamburger-menu{position:fixed;top:14px;left:14px;z-index:1000}
    .hamburger-btn{
      width:46px;height:46px;border:0;border-radius:12px;background:rgba(255,255,255,.96);
      box-shadow:0 8px 20px rgba(0,0,0,.12);
      display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px;cursor:pointer;outline:none;
    }
    .hamburger-btn:active{transform:scale(.96)}
    .hamburger-btn span{width:22px;height:2.6px;background:#222;border-radius:2px}
    .menu-dropdown{
      display:none;position:absolute;top:56px;left:0;background:#fff;border-radius:14px;
      box-shadow:0 16px 40px rgba(0,0,0,.18);min-width:240px;overflow:hidden
    }
    .menu-dropdown.active{display:block;animation:slideDown .18s ease-out}
    @keyframes slideDown{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}
    .menu-section-title{padding:10px 14px;background:#f3f5f8;color:#667;font-weight:900;font-size:11px;letter-spacing:.06em;text-transform:uppercase}
    .menu-item{padding:12px 14px;border-bottom:1px solid #eef1f6;display:flex;gap:10px;align-items:center;cursor:pointer}
    .menu-item:last-child{border-bottom:0}
    .menu-item:hover{background:#fafbfc}
    .color-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;padding:12px}
    .color-option{width:50px;height:50px;border-radius:999px;border:3px solid transparent;cursor:pointer;transition:.15s}
    .color-option.selected{border-color:#222;transform:scale(1.08)}
    .color-option:active{transform:scale(.96)}
    input[type=file]{display:none}

    /* Device */
    .tamagotchi-device{
      background:var(--shell-color, linear-gradient(145deg,#5b7dd4,#3d5a9e));
      width:clamp(360px, 92vw, 500px);
      border-radius:48% 48% 52% 52% / 42% 42% 54% 54%;
      padding:26px 22px 28px;
      box-shadow:
        0 34px 80px rgba(0,0,0,.22),
        inset 0 -10px 28px rgba(0,0,0,.20),
        inset 0 3px 14px rgba(255,255,255,.25);
      position:relative;
    }
    .tamagotchi-device::before{
      content:'';position:absolute;top:14px;left:50%;transform:translateX(-50%);
      width:14px;height:14px;border-radius:50%;background:radial-gradient(circle,#d7d7d7,#7e7e7e);
      box-shadow:inset 0 1px 3px rgba(0,0,0,.45);
    }
    .logo-area{
      text-align:center;color:#fff;font-weight:900;letter-spacing:.16em;
      text-shadow:0 2px 10px rgba(0,0,0,.35);
      font-size:clamp(16px, 3.8vw, 20px);
      margin:6px 0 12px;
    }

    /* Screen bezel: narrower so it doesn't “stick out” visually */
    .screen-wrapper{
      margin:0 22px 16px;
      background:linear-gradient(145deg,#d9d9d9,#b2b2b2);
      border-radius:14px;
      padding:8px;
      box-shadow:inset 0 2px 6px rgba(0,0,0,.28), 0 2px 6px rgba(255,255,255,.35);
    }
    .screen-border{background:#161616;border-radius:10px;padding:5px;box-shadow:inset 0 2px 8px rgba(0,0,0,.85)}
    .screen{
      background:#8ba446;
      height:clamp(175px, 40vw, 205px);
      border-radius:6px;
      position:relative;overflow:hidden;
      image-rendering:pixelated;image-rendering:crisp-edges;
      box-shadow:inset 0 1px 4px rgba(0,0,0,.2);
    }
    .screen.light-off{background:#3a461d}

    /* Icon bars */
    .iconbar{
      height:32px;display:flex;align-items:center;justify-content:space-between;
      padding:6px 8px;background:rgba(0,0,0,.08);
    }
    .iconbar.top{border-bottom:2px solid rgba(0,0,0,.14)}
    .iconbar.bottom{border-top:2px solid rgba(0,0,0,.14);position:absolute;left:0;right:0;bottom:0}
    .icons{display:flex;gap:10px;align-items:center}
    .menu-icon{
      width:18px;height:18px;opacity:.35;position:relative;
      background-size:contain;background-repeat:no-repeat;background-position:center;
    }
    .menu-icon.selected{opacity:1}
    .menu-icon.selected::after{
      content:'';position:absolute;left:50%;transform:translateX(-50%);
      bottom:-10px;width:0;height:0;border-left:4px solid transparent;border-right:4px solid transparent;
      border-top:5px solid rgba(0,0,0,.65);
    }
    .attn{
      width:18px;height:18px;opacity:.12;background-size:contain;background-repeat:no-repeat;background-position:center;
      filter:contrast(1.1);
    }
    .attn.on{opacity:1}

    /* Pixel icons (fork/knife, bulb, game, syringe, duck, meter, discipline, attention) */
    .icon-food{background-image:url('image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgeD0iMiIgeT0iMiIgd2lkdGg9IjIiIGhlaWdodD0iMTIiIGZpbGw9IiMwMDAiLz48cmVjdCB4PSI0IiB5PSIyIiB3aWR0aD0iMiIgaGVpZ2h0PSI0IiBmaWxsPSIjMDAwIi8+PHJlY3QgeD0iNiIgeT0iMiIgd2lkdGg9IjIiIGhlaWdodD0iNCIgZmlsbD0iIzAwMCIvPjxyZWN0IHg9IjQiIHk9IjYiIHdpZHRoPSI0IiBoZWlnaHQ9IjIiIGZpbGw9IiMwMDAiLz48cmVjdCB4PSI4IiB5PSI0IiB3aWR0aD0iMiIgaGVpZ2h0PSIxMiIgZmlsbD0iIzAwMCIvPjxyZWN0IHg9IjEyIiB5PSI0IiB3aWR0aD0iNCIgaGVpZ2h0PSIyIiBmaWxsPSIjMDAwIi8+PHJlY3QgeD0iMTIiIHk9IjYiIHdpZHRoPSIyIiBoZWlnaHQ9IjEwIiBmaWxsPSIjMDAwIi8+PHJlY3QgeD0iMTQiIHk9IjYiIHdpZHRoPSIyIiBoZWlnaHQ9IjEwIiBmaWxsPSIjMDAwIi8+PC9zdmc+');}
    .icon-light{background-image:url('image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgeD0iOCIgeT0iMSIgd2lkdGg9IjIiIGhlaWdodD0iMiIgZmlsbD0iIzAwMCIvPjxyZWN0IHg9IjYiIHk9IjMiIHdpZHRoPSI2IiBoZWlnaHQ9IjIiIGZpbGw9IiMwMDAiLz48cmVjdCB4PSI1IiB5PSI1IiB3aWR0aD0iOCIgaGVpZ2h0PSI1IiBmaWxsPSIjMDAwIi8+PHJlY3QgeD0iNiIgeT0iMTAiIHdpZHRoPSI2IiBoZWlnaHQ9IjIiIGZpbGw9IiMwMDAiLz48cmVjdCB4PSI3IiB5PSIxMiIgd2lkdGg9IjQiIGhlaWdodD0iNSIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==');}
    .icon-game{background-image:url('image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgeD0iMyIgeT0iNiIgd2lkdGg9IjEyIiBoZWlnaHQ9IjYiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIyIi8+PHJlY3QgeD0iNiIgeT0iOCIgd2lkdGg9IjIiIGhlaWdodD0iMiIgZmlsbD0iIzAwMCIvPjxyZWN0IHg9IjEwIiB5PSI4IiB3aWR0aD0iMiIgaGVpZ2h0PSIyIiBmaWxsPSIjMDAwIi8+PC9zdmc+');}
    .icon-med{background-image:url('image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgeD0iMTIiIHk9IjMiIHdpZHRoPSIyIiBoZWlnaHQ9IjEyIiBmaWxsPSIjMDAwIi8+PHJlY3QgeD0iMTAiIHk9IjUiIHdpZHRoPSI2IiBoZWlnaHQ9IjIiIGZpbGw9IiMwMDAiLz48cmVjdCB4PSI4IiB5PSI3IiB3aWR0aD0iOCIgaGVpZ2h0PSIyIiBmaWxsPSIjMDAwIi8+PHJlY3QgeD0iNiIgeT0iOSIgd2lkdGg9IjEwIiBoZWlnaHQ9IjIiIGZpbGw9IiMwMDAiLz48cmVjdCB4PSI0IiB5PSIxMSIgd2lkdGg9IjQiIGhlaWdodD0iMiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==');}
    .icon-duck{background-image:url('image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgeD0iNSIgeT0iOCIgd2lkdGg9IjgiIGhlaWdodD0iNSIgZmlsbD0iIzAwMCIvPjxyZWN0IHg9IjMiIHk9IjkiIHdpZHRoPSIyIiBoZWlnaHQ9IjMiIGZpbGw9IiMwMDAiLz48cmVjdCB4PSIxMyIgeT0iOSIgd2lkdGg9IjIiIGhlaWdodD0iMyIgZmlsbD0iIzAwMCIvPjxyZWN0IHg9IjkiIHk9IjYiIHdpZHRoPSIyIiBoZWlnaHQ9IjIiIGZpbGw9IiMwMDAiLz48cmVjdCB4PSIxMSIgeT0iNyIgd2lkdGg9IjMiIGhlaWdodD0iMiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==');}
    .icon-meter{background-image:url('image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgeD0iMiIgeT0iNCIgd2lkdGg9IjE0IiBoZWlnaHQ9IjEwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMiIvPjxyZWN0IHg9IjQiIHk9IjEyIiB3aWR0aD0iMTAiIGhlaWdodD0iMiIgZmlsbD0iIzAwMCIvPjxyZWN0IHg9IjYiIHk9IjEwIiB3aWR0aD0iNiIgaGVpZ2h0PSIyIiBmaWxsPSIjMDAwIi8+PC9zdmc+');}
    .icon-disc{background-image:url('image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgeD0iMyIgeT0iMyIgd2lkdGg9IjEyIiBoZWlnaHQ9IjEyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMiIvPjxyZWN0IHg9IjciIHk9IjYiIHdpZHRoPSIyIiBoZWlnaHQ9IjciIGZpbGw9IiMwMDAiLz48cmVjdCB4PSIxMSIgeT0iNiIgd2lkdGg9IjIiIGhlaWdodD0iNyIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==');}
    .icon-attn{background-image:url('image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgeD0iOCIgeT0iMyIgd2lkdGg9IjIiIGhlaWdodD0iOCIgaWxsPSIjMDAwIiBmaWxsPSIjMDAwIi8+PHJlY3QgeD0iOCIgeT0iMTMiIHdpZHRoPSIyIiBoZWlnaHQ9IjIiIGZpbGw9IiMwMDAiLz48L3N2Zz4=');}

    /* Playfield */
    .playfield{position:absolute;left:0;right:0;top:32px;bottom:32px;display:flex;align-items:center;justify-content:center}
    .hud{position:absolute;left:8px;top:36px;font-size:10px;font-weight:900;line-height:1.4}
    .hud .line{display:flex;align-items:center;gap:4px}
    .status{position:absolute;right:8px;bottom:36px;font-size:10px;font-weight:900;text-align:right}
    .pet{width:64px;height:64px;background-size:contain;background-repeat:no-repeat;background-position:center;image-rendering:pixelated;image-rendering:crisp-edges}
    .poop{position:absolute;bottom:48px;font-size:18px}

    .overlay{position:absolute;left:0;right:0;top:32px;bottom:32px;background:#8ba446;display:none;align-items:center;justify-content:center;flex-direction:column;font-size:11px;font-weight:900;padding:14px}
    .overlay.active{display:flex}
    .overlay .row{width:100%;display:flex;justify-content:space-between;margin:3px 0}

    .feedmenu{display:flex;gap:10px;align-items:center;justify-content:center}
    .feedopt{font-size:12px;font-weight:900;opacity:.45;padding:8px 10px;border-radius:8px}
    .feedopt.selected{opacity:1;background:rgba(0,0,0,.10)}

    .minigame{display:flex;gap:12px;align-items:center;justify-content:center;flex-direction:column}
    .choices{display:flex;gap:18px}
    .choice{font-size:12px;font-weight:900;opacity:.45;padding:8px 10px;border-radius:8px}
    .choice.selected{opacity:1;background:rgba(0,0,0,.10)}

    .toast{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);background:rgba(255,255,255,.94);border-ra
